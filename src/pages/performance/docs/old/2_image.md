# 图片相关的优化

## 1 各种格式图片的区别

### 1.1 jpeg

JPEG(联合图像专家组 Joint Photographic Experts Group) 。JPEG 编码用来压缩去除冗余的图像和彩色数据，获取得极高的压缩率的同时能展现十分丰富生动的图像。具有调节图像质量的功能，允许你用不同的压缩比例对这种文件压缩。不支持透明度。

### 1.2 png

PNG(便携式网络图形 Portable Network Graphics)。是一种无损压缩的位图图形格式。

- png8 - 256 色，支持透明
- png24 - 2^24 色，不支持透明
- png24 - 2^24 色，不支持透明

PNG 格式适合保存文本，线条或类似的边缘清晰，有大块相同颜色区域的图像。

JPEG 采用了一种针对照片图像的特定有损编码方法，这种编码适用于低对比，图像颜色过渡平滑，噪声多，且结构不规则的图像。

## 2 不同图片格式常用的业务场景

- jpeg 为有损压缩，压缩率高，不支持透明
- png 为无损压缩，支持透明
- webp 压缩程度更好，在 ios webview 有兼容性问题（安卓上用）
- svg 矢量图，代码内嵌，相对较小。适用图片样式现对简单的场景
- gif 一般用来做动图

## 3 图片优化的几种方法

1. 转成合适的格式，或对图片进行压缩，针对图片的真实情况，舍弃一些相对无关紧要的色彩信息
2. 使用 css 雪碧图，将一些图片整合到一张图片中，减少 http 的请求数量（缺点：整合图片比较大时，一次加载比较慢）
3. inline image，将图片内嵌在代码中（即转成 base64），通常针对较小的图片
4. 使用 svg 进行图片的绘制，将图标转成字体。如 [https://www.iconfont.cn/](https://www.iconfont.cn/)
