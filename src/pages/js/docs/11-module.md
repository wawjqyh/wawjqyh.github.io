# 模块

## 1 模块简介

### 1.1 旧的模块系统

了解就行，目前都在用 ES6 的模块系统

- `AMD` —— 最古老的模块系统之一，最初由 `require.js` 库实现。
- `CommonJS` —— 为 `Node.js` 服务器创建的模块系统。
- `UMD` —— 另外一个模块系统，建议作为通用的模块系统，它与 `AMD` 和 `CommonJS` 都兼容

语言级的模块系统在 2015 年的时候出现在了标准（ES6）中，此后逐渐发展，现在已经得到了所有主流浏览器和 `Node.js` 的支持

### 1.2 模块的特性

- 模块始终默认使用 `use strict`
- 每个模块都有自己的顶级作用域，一个模块中的顶级作用域变量和函数在其他脚本中是不可见的
- 如果同一个模块被导入到多个其他位置，那么它的代码仅会在第一次导入时执行，然后将导出（export）的内容提供给所有的导入（importer）。在某个地方对模块作了修改，其他引用的模块也能看到修改
- 在一个模块中，`this` 是 `undefined`

## 2 导入和导出

无特别注意点

## 3 动态导入

import(module) 表达式加载模块并返回一个 promise，该 promise resolve 为一个包含其所有导出的模块对象。我们可以在代码中的 `任意位置` 调用这个表达式

```js
let { hi, bye } = await import('./say.js');

hi();
bye();
```
