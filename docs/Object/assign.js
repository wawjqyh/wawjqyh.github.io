(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/Object/assign"],{OZV7:function(e,o){var t='<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank">\u539f\u6587\u94fe\u63a5</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank">en</a></p> <h1 id="objectassign">Object.assign()</h1> <p>Object.assign() \u65b9\u6cd5\u7528\u4e8e\u5c06\u6240\u6709\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u7684\u503c\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u6e90\u5bf9\u8c61\u590d\u5236\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u5b83\u5c06\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u3002</p> <h2 id="\u8bed\u6cd5">\u8bed\u6cd5</h2> <pre><code class="language-javascript">Object.assign(target, ...sources)</code></pre> <h3 id="\u53c2\u6570">\u53c2\u6570</h3> <ul> <li><code>target</code> \u76ee\u6807\u5bf9\u8c61</li> <li><code>sources</code> (\u591a\u4e2a)\u6e90\u5bf9\u8c61</li> </ul> <h3 id="\u8fd4\u56de\u503c">\u8fd4\u56de\u503c</h3> <p>\u76ee\u6807\u5bf9\u8c61</p> <h2 id="\u63cf\u8ff0">\u63cf\u8ff0</h2> <p>\u5982\u679c\u76ee\u6807\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u5177\u6709\u76f8\u540c\u7684\u952e\uff0c\u5219\u5c5e\u6027\u5c06\u88ab\u6e90\u4e2d\u7684\u5c5e\u6027\u8986\u76d6\u3002\u540e\u6765\u7684\u6e90\u7684\u5c5e\u6027\u5c06\u7c7b\u4f3c\u5730\u8986\u76d6\u65e9\u5148\u7684\u5c5e\u6027\u3002</p> <p>Object.assign \u65b9\u6cd5\u53ea\u4f1a\u62f7\u8d1d\u6e90\u5bf9\u8c61\u81ea\u8eab\u7684\u5e76\u4e14\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u5230\u76ee\u6807\u5bf9\u8c61\u8eab\u4e0a\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u6e90\u5bf9\u8c61\u7684 [ [ Get ] ] \u548c\u76ee\u6807\u5bf9\u8c61\u7684 [ [ Set ] ]\uff0c\u6240\u4ee5\u5b83\u4f1a\u8c03\u7528\u76f8\u5173 getter \u548c setter\u3002\u56e0\u6b64\uff0c\u5b83\u5206\u914d\u5c5e\u6027\u800c\u4e0d\u662f\u590d\u5236\u6216\u5b9a\u4e49\u65b0\u7684\u5c5e\u6027\u3002\u5982\u679c\u5408\u5e76\u6e90\u5305\u542b\u4e86 getter\uff0c \u90a3\u4e48\u8be5\u65b9\u6cd5\u5c31\u4e0d\u9002\u5408\u5c06\u65b0\u5c5e\u6027\u5408\u5e76\u5230\u539f\u578b\u91cc\u3002\u5047\u5982\u662f\u62f7\u8d1d\u5c5e\u6027\u5b9a\u4e49\u5230\u539f\u578b\u91cc\uff0c\u5305\u62ec\u5b83\u4eec\u7684\u53ef\u679a\u4e3e\u6027\uff0c\u90a3\u4e48\u5e94\u8be5\u4f7f\u7528 Object.getOwnPropertyDescriptor() \u548c Object.defineProperty() \u3002</p> <p>String\u7c7b\u578b\u548c Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u90fd\u4f1a\u88ab\u62f7\u8d1d\u3002</p> <p>\u6ce8\u610f\uff0c\u5728\u5c5e\u6027\u62f7\u8d1d\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u4ea7\u751f\u5f02\u5e38\uff0c\u6bd4\u5982\u76ee\u6807\u5bf9\u8c61\u7684\u67d0\u4e2a\u53ea\u8bfb\u5c5e\u6027\u548c\u6e90\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u540c\u540d\uff0c\u8fd9\u65f6\u8be5\u65b9\u6cd5\u4f1a\u629b\u51fa\u4e00\u4e2a TypeError \u5f02\u5e38\uff0c\u62f7\u8d1d\u8fc7\u7a0b\u4e2d\u65ad\uff0c\u5df2\u7ecf\u62f7\u8d1d\u6210\u529f\u7684\u5c5e\u6027\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u8fd8\u672a\u62f7\u8d1d\u7684\u5c5e\u6027\u5c06\u4e0d\u4f1a\u518d\u88ab\u62f7\u8d1d\u3002</p> <p><code>\u6ce8\u610f\uff0c Object.assign \u4f1a\u8df3\u8fc7\u90a3\u4e9b\u503c\u4e3a null \u6216 undefined \u7684\u6e90\u5bf9\u8c61\u3002</code></p> <h2 id="\u793a\u4f8b">\u793a\u4f8b</h2> <h3 id="\u590d\u5236\u4e00\u4e2a-object">\u590d\u5236\u4e00\u4e2a object</h3> <pre><code class="language-javascript">var obj = { a: 1 };\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { a: 1 }</code></pre> <h3 id="\u6df1\u5ea6\u62f7\u8d1d\u95ee\u9898">\u6df1\u5ea6\u62f7\u8d1d\u95ee\u9898</h3> <p>\u9488\u5bf9\u6df1\u5ea6\u62f7\u8d1d\uff0c\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\uff0c\u56e0\u4e3a Object.assign() \u62f7\u8d1d\u7684\u662f\u5c5e\u6027\u503c\u3002\u5047\u5982\u6e90\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u662f\u4e00\u4e2a\u6307\u5411\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5b83\u4e5f\u53ea\u62f7\u8d1d\u90a3\u4e2a\u5f15\u7528\u503c\u3002</p> <pre><code class="language-javascript">function test() {\n  let a = { b: {c:4} , d: { e: {f:1}} }\n  let g = Object.assign({},a)\n  let h = JSON.parse(JSON.stringify(a));\n  console.log(g.d) // { e: { f: 1 } }\n  g.d.e = 32\n  console.log(&#39;g.d.e set to 32.&#39;) // g.d.e set to 32.\n  console.log(g) // { b: { c: 4 }, d: { e: 32 } }\n  console.log(a) // { b: { c: 4 }, d: { e: 32 } }\n  console.log(h) // { b: { c: 4 }, d: { e: { f: 1 } } }\n  h.d.e = 54\n  console.log(&#39;h.d.e set to 54.&#39;) // h.d.e set to 54.\n  console.log(g) // { b: { c: 4 }, d: { e: 32 } }\n  console.log(a) // { b: { c: 4 }, d: { e: 32 } }\n  console.log(h) // { b: { c: 4 }, d: { e: 54 } }\n}\ntest();</code></pre> <h3 id="\u5408\u5e76-objects">\u5408\u5e76 objects</h3> <pre><code class="language-javascript">var o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\nconsole.log(o1);  // { a: 1, b: 2, c: 3 }, \u6ce8\u610f\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u4e5f\u4f1a\u6539\u53d8\u3002</code></pre> <h3 id="\u62f7\u8d1d-symbol-\u7c7b\u578b\u7684\u5c5e\u6027">\u62f7\u8d1d symbol \u7c7b\u578b\u7684\u5c5e\u6027</h3> <pre><code class="language-javascript">var o1 = { a: 1 };\nvar o2 = { [Symbol(&quot;foo&quot;)]: 2 };\n\nvar obj = Object.assign({}, o1, o2);\nconsole.log(obj); // { a: 1, [Symbol(&quot;foo&quot;)]: 2 }</code></pre> <h3 id="\u7ee7\u627f\u5c5e\u6027\u548c\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u662f\u4e0d\u80fd\u62f7\u8d1d\u7684">\u7ee7\u627f\u5c5e\u6027\u548c\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u662f\u4e0d\u80fd\u62f7\u8d1d\u7684</h3> <pre><code class="language-javascript">var obj = Object.create({foo: 1}, { // foo \u662f\u4e2a\u7ee7\u627f\u5c5e\u6027\u3002\n    bar: {\n        value: 2  // bar \u662f\u4e2a\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u3002\n    },\n    baz: {\n        value: 3,\n        enumerable: true  // baz \u662f\u4e2a\u81ea\u8eab\u53ef\u679a\u4e3e\u5c5e\u6027\u3002\n    }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { baz: 3 }</code></pre> <h3 id="\u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\u4e3a-object">\u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\u4e3a object</h3> <pre><code class="language-javascript">var v1 = &quot;abc&quot;;\nvar v2 = true;\nvar v3 = 10;\nvar v4 = Symbol(&quot;foo&quot;)\n\nvar obj = Object.assign({}, v1, null, v2, undefined, v3, v4);\n// \u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\uff0cnull \u548c undefined \u4f1a\u88ab\u5ffd\u7565\u3002\n// \u6ce8\u610f\uff0c\u53ea\u6709\u5b57\u7b26\u4e32\u7684\u5305\u88c5\u5bf9\u8c61\u624d\u53ef\u80fd\u6709\u81ea\u8eab\u53ef\u679a\u4e3e\u5c5e\u6027\u3002\nconsole.log(obj); // { &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; }</code></pre> <h3 id="\u5f02\u5e38\u4f1a\u6253\u65ad\u63a5\u4e0b\u6765\u7684\u62f7\u8d1d\u4efb\u52a1">\u5f02\u5e38\u4f1a\u6253\u65ad\u63a5\u4e0b\u6765\u7684\u62f7\u8d1d\u4efb\u52a1</h3> <pre><code class="language-javascript">var target = Object.defineProperty({}, &quot;foo&quot;, {\n    value: 1,\n    writable: false\n}); // target \u7684 foo \u5c5e\u6027\u662f\u4e2a\u53ea\u8bfb\u5c5e\u6027\u3002\n\nObject.assign(target, {bar: 2}, {foo2: 3, foo: 3, foo3: 3}, {baz: 4});\n// TypeError: &quot;foo&quot; is read-only\n// \u6ce8\u610f\u8fd9\u4e2a\u5f02\u5e38\u662f\u5728\u62f7\u8d1d\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e8c\u4e2a\u5c5e\u6027\u65f6\u53d1\u751f\u7684\u3002\n\nconsole.log(target.bar);  // 2\uff0c\u8bf4\u660e\u7b2c\u4e00\u4e2a\u6e90\u5bf9\u8c61\u62f7\u8d1d\u6210\u529f\u4e86\u3002\nconsole.log(target.foo2); // 3\uff0c\u8bf4\u660e\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e00\u4e2a\u5c5e\u6027\u4e5f\u62f7\u8d1d\u6210\u529f\u4e86\u3002\nconsole.log(target.foo);  // 1\uff0c\u53ea\u8bfb\u5c5e\u6027\u4e0d\u80fd\u88ab\u8986\u76d6\uff0c\u6240\u4ee5\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e8c\u4e2a\u5c5e\u6027\u62f7\u8d1d\u5931\u8d25\u4e86\u3002\nconsole.log(target.foo3); // undefined\uff0c\u5f02\u5e38\u4e4b\u540e assign \u65b9\u6cd5\u5c31\u9000\u51fa\u4e86\uff0c\u7b2c\u4e09\u4e2a\u5c5e\u6027\u662f\u4e0d\u4f1a\u88ab\u62f7\u8d1d\u5230\u7684\u3002\nconsole.log(target.baz);  // undefined\uff0c\u7b2c\u4e09\u4e2a\u6e90\u5bf9\u8c61\u66f4\u662f\u4e0d\u4f1a\u88ab\u62f7\u8d1d\u5230\u7684\u3002</code></pre> <h3 id="\u62f7\u8d1d\u8bbf\u95ee\u5668\uff08accessor\uff09">\u62f7\u8d1d\u8bbf\u95ee\u5668\uff08accessor\uff09</h3> <pre><code class="language-javascript">var obj = {\n  foo: 1,\n  get bar() {\n    return 2;\n  }\n};\n\nvar copy = Object.assign({}, obj);\n// { foo: 1, bar: 2 }\n// copy.bar\u7684\u503c\u6765\u81eaobj.bar\u7684getter\u51fd\u6570\u7684\u8fd4\u56de\u503c\nconsole.log(copy);\n\n// \u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\u4f1a\u62f7\u8d1d\u6240\u6709\u81ea\u6709\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u7b26\nfunction completeAssign(target, ...sources) {\n  sources.forEach(source =&gt; {\n    let descriptors = Object.keys(source).reduce((descriptors, key) =&gt; {\n      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n      return descriptors;\n    }, {});\n\n    // Object.assign \u9ed8\u8ba4\u4e5f\u4f1a\u62f7\u8d1d\u53ef\u679a\u4e3e\u7684Symbols\n    Object.getOwnPropertySymbols(source).forEach(sym =&gt; {\n      let descriptor = Object.getOwnPropertyDescriptor(source, sym);\n      if (descriptor.enumerable) {\n        descriptors[sym] = descriptor;\n      }\n    });\n    Object.defineProperties(target, descriptors);\n  });\n  return target;\n}\n\nvar copy = completeAssign({}, obj);\n// { foo:1, get bar() { return 2 } }\nconsole.log(copy);</code></pre> <h2 id="\u89c4\u8303">\u89c4\u8303</h2> <table> <thead> <tr> <th align="left">Specification</th> <th align="left">Status</th> <th align="left">Comment</th> </tr> </thead> <tbody><tr> <td align="left">ECMAScript 2015 (6th Edition, ECMA-262)</td> <td align="left">Standard</td> <td align="left">Initial definition</td> </tr> </tbody></table> ';e.exports=t}}]);