(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/git/subtree"],{CpJk:function(e,t){var s='<h1 id="subtree">subtree</h1> <p>git subtree \u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u4ed3\u5e93\u4f5c\u4e3a\u5176\u4ed6\u4ed3\u5e93\u7684\u5b50\u4ed3\u5e93\u3002</p> <h2 id="\u547d\u4ee4">\u547d\u4ee4</h2> <p>git subtree \u7684\u4e3b\u8981\u547d\u4ee4\u6709\uff1a</p> <pre><code class="language-bash"># \u514b\u9686\u5b50\u4ed3\u5e93\u5230\u5f53\u524d\u9879\u76ee\u7684\u67d0\u4e2a\u76ee\u5f55\ngit subtree add   --prefix=&lt;\u76ee\u5f55&gt; &lt;\u4ed3\u5e93\u5730\u5740&gt; &lt;\u5206\u652f&gt; &lt;\u53c2\u6570&gt;\n\n# \u62c9\u53d6\u5b50\u4ed3\u5e93\ngit subtree pull  --prefix=&lt;\u76ee\u5f55&gt; &lt;\u4ed3\u5e93\u5730\u5740&gt; &lt;\u5206\u652f&gt; &lt;\u53c2\u6570&gt;\n\n# \u5c06\u5f53\u524d\u9879\u76ee\u7684\u4e00\u4e2a\u76ee\u5f55\u63a8\u9001\u5230\u5b50\u4ed3\u5e93\ngit subtree push  --prefix=&lt;\u76ee\u5f55&gt; &lt;\u4ed3\u5e93\u5730\u5740&gt; &lt;\u5206\u652f&gt; &lt;\u53c2\u6570&gt;\n\n# \u5408\u5e76\u67d0\u6b21\u63d0\u4ea4\ngit subtree merge --prefix=&lt;\u76ee\u5f55&gt; &lt;commit id&gt;\n\ngit subtree split --prefix=&lt;\u76ee\u5f55&gt; [OPTIONS] [&lt;commit&gt;]</code></pre> <h2 id="\u516c\u5171\u5b50\u4ed3\u5e93">\u516c\u5171\u5b50\u4ed3\u5e93</h2> <p>\u5e38\u7528\u7684\u4f7f\u7528\u573a\u666f\uff0c\u4f8b\u5982\u6709\u4e00\u4e2a\u9879\u76ee main\uff0cmain \u4f7f\u7528\u5230\u4e86\u4e00\u4e2a\u516c\u5171\u7684\u9879\u76ee common\u3002common \u9879\u76ee\u6709\u591a\u4e2a\u9879\u76ee\u4f9d\u8d56\uff0c\u9700\u8981\u5355\u72ec\u7ef4\u62a4\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u4ed3\u5e93\u5b58\u653e common \u9879\u76ee\u3002</p> <p>main \u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 main.js\n\u2514\u2500\u2500 common\n    \u2514\u2500\u2500 utils.js</code></pre><p>\u73b0\u5728\u4f7f\u7528 subtree \u7ba1\u7406 main \u9879\u76ee\uff0c\u4e5f\u5c31\u662f\u8bf4 main \u9879\u76ee\u5305\u542b\u4e86\u4e24\u4e2a\u4ed3\u5e93\u3002</p> <h3 id="\u6dfb\u52a0\u5b50\u4ed3\u5e93">\u6dfb\u52a0\u5b50\u4ed3\u5e93</h3> <p>\u5c06 common \u9879\u76ee\u7684 master \u5206\u652f\uff08\u83b7\u53d6\u5176\u4ed6\u5206\u652f\uff09\u514b\u9686\u5230 main \u9879\u76ee\u7684 common \u76ee\u5f55\u4e0b\u3002\u6ce8\u610f common \u76ee\u5f55\u514b\u9686\u524d\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u5426\u5219\u4f1a\u65e0\u6cd5\u6dfb\u52a0\u5b50\u4ed3\u5e93\u3002</p> <pre><code class="language-bash">git subtree add --prefix=common https://github.com/xxx/common.git master --squash\n# --squash\u53c2\u6570\u8868\u793a\u4e0d\u62c9\u53d6\u5386\u53f2\u4fe1\u606f\uff0c\u800c\u53ea\u751f\u6210\u4e00\u6761commit\u4fe1\u606f</code></pre> <h3 id="\u62c9\u53d6\u63a8\u9001">\u62c9\u53d6/\u63a8\u9001</h3> <p>\u53ef\u4ee5\u62c9\u53d6\u548c\u63a8\u9001\u4efb\u610f\u5206\u652f</p> <pre><code class="language-bash"># \u62c9\u53d6\ngit subtree pull --prefix=common https://github.com/xxx/common.git master --squash\n\n# \u63a8\u9001\ngit subtree push --prefix=common https://github.com/xxx/common.git master --squash</code></pre> <h3 id="merge">merge</h3> <pre><code class="language-bash"># merge \u524d\u5148 fetch\ngit fetch origin-common\n\n# \u53ea\u80fd merge \u67d0\u6b21\u63d0\u4ea4\ngit subtree merge --prefix=common 8915506648798dfcda2207c2d023315628327be2</code></pre> <h2 id="\u7b80\u5316\u547d\u4ee4">\u7b80\u5316\u547d\u4ee4</h2> <p>\u4e0a\u9762\u8f93\u547d\u4ee4\u7684\u65f6\u5019\u6bcf\u6b21\u90fd\u9700\u8981\u8f93\u5b50\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u5176\u5b9e\u5b50\u4ed3\u5e93\u7684\u5730\u5740\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a remote\uff0c\u5728\u4f7f\u7528\u524d\u5148\u6dfb\u52a0\u4e00\u4e2a remote</p> <pre><code class="language-bash">git remote add origin-common https://github.com/xxx/common.git</code></pre> <p>\u547d\u4ee4\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> <pre><code class="language-bash">git subtree add --prefix=common origin-common master --squash</code></pre> <h2 id="gh-pages">gh-pages</h2> <p>\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u4f7f\u7528 subtree \u7684\u573a\u666f\uff0c\u5c31\u662f\u5c06\u5f53\u524d\u9879\u76ee\u7684\u4e00\u4e2a\u76ee\u5f55\u63d0\u4ea4\u5230\u8fdc\u7a0b\u7684\u53e6\u4e00\u4e2a\u5206\u652f\u3002\u6bd4\u5982 github \u9879\u76ee\u4e3b\u9875\uff0c\u9700\u8981\u6709\u4e00\u4e2a gh-pages \u5206\u652f\uff0c\u800c gh-pages \u5206\u652f\u4e00\u822c\u662f\u5b58\u653e\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u9879\u76ee\u7f16\u8bd1\u7684\u6587\u4ef6\u5355\u72ec\u63d0\u4ea4\u5230 gh-pages \u5206\u652f</p> <p>\u4f8b\u5982\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 src\n\u251c\u2500\u2500 dist\n\u2514\u2500\u2500 main.js</code></pre><p>\u9700\u8981\u5c06 dist \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u63d0\u4ea4\u5230 gh-pages \u5206\u652f\u4e0b\uff0c\u5c31\u53ef\u4ee5\u7528 subtree</p> <pre><code class="language-bash"># origin \u662f\u5f53\u524d\u9879\u76ee\u7684\u4ed3\u5e93\ngit subtree push --prefix=common origin gh-pages</code></pre> ';e.exports=s}}]);