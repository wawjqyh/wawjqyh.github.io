(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/others/react"],{vKFV:function(t,e){var n='<h1 id="react">react</h1> <h2 id="\u57fa\u7840">\u57fa\u7840</h2> <h3 id="hello-world">Hello World</h3> <pre><code class="language-jsx">import React from &#39;react&#39;;\nimport ReactDOM from &#39;react-dom&#39;;\n\nReactDOM.render(&lt;h1&gt;Hello, world!&lt;/h1&gt;, document.getElementById(&#39;root&#39;));</code></pre> <h3 id="\u7ec4\u4ef6">\u7ec4\u4ef6</h3> <p>\u7ec4\u4ef6\u540d\u79f0\u5fc5\u987b\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934</p> <pre><code class="language-jsx">import HelloComponent from &quot;./HelloComponent&quot;;\n\nrender() {\n    return (\n        &lt;div&gt;\n            &lt;HelloComponent name=&quot;\u5566\u5566\u5566&quot;/&gt;\n        &lt;/div&gt;\n    )\n}</code></pre> <h3 id="props">props</h3> <p>props \u662f\u5916\u90e8\u4f20\u5230\u7ec4\u4ef6\u5185\u7684</p> <p>\u65e0\u8bba\u662f\u4f7f\u7528\u51fd\u6570\u6216\u662f\u7c7b\u6765\u58f0\u660e\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u51b3\u4e0d\u80fd\u4fee\u6539\u5b83\u81ea\u5df1\u7684 props</p> <h3 id="state">state</h3> <ul> <li>state \u662f\u79c1\u6709\u7684\uff0c\u5b8c\u5168\u53d7\u63a7\u4e8e\u5f53\u524d\u7ec4\u4ef6</li> <li>\u5982\u679c\u4f60\u4e0d\u5728 render() \u4e2d\u4f7f\u7528\u67d0\u4e9b\u4e1c\u897f\uff0c\u5b83\u5c31\u4e0d\u5e94\u8be5\u5728 state \u4e2d</li> <li>this.setState() \u6765\u66f4\u65b0\u7ec4\u4ef6\u5c40\u90e8\u72b6\u6001\uff0c\u4f1a\u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6</li> <li>setState(state, props) \u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u9700\u8981\u5f02\u6b65\u66f4\u65b0\u7684\u60c5\u51b5</li> <li>state \u662f\u5355\u5411\u7684</li> </ul> <pre><code class="language-jsx">constructor(props) {\n    super(props);\n\n    // \u521d\u59cb\u5316 state\n    this.state = {\n        nowTime: new Date()\n    }\n}</code></pre> <pre><code class="language-jsx">// \u66f4\u65b0\u72b6\u6001\nthis.setState({\n  nowTime: new Date()\n});</code></pre> <pre><code class="language-jsx">render() {\n    return (\n        &lt;div&gt;now {moment(this.state.nowTime).format(&quot;YYYY-MM-DD hh:mm:ss&quot;)}&lt;/div&gt;\n    )\n}</code></pre> <h3 id="\u4e8b\u4ef6">\u4e8b\u4ef6</h3> <p>\u6ce8\u610f this \u6307\u5411\uff0cJSX \u56de\u8c03\u51fd\u6570\u4e2d\u7684 this\uff0c\u7c7b\u7684\u65b9\u6cd5\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u7ed1\u5b9a this \u7684</p> <ul> <li>\u53ef\u4ee5\u4f7f\u7528 bind \u7ed1\u5b9a this</li> <li>\u5c5e\u6027\u521d\u59cb\u5316\u5668\u8bed\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\u521d\u59cb\u5316\u5668\u6765\u6b63\u786e\u7684\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570</li> <li>\u4f7f\u7528\u7bad\u5934\u51fd\u6570(\u4e0d\u63a8\u8350\u4f7f\u7528)</li> </ul> <p>\u5982\u679c\u4f60\u5fd8\u8bb0\u7ed1\u5b9a this.handleClick \u5e76\u628a\u5b83\u4f20\u5165 onClick, \u5f53\u4f60\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u65f6\u5019 this \u7684\u503c\u4f1a\u662f undefined</p> <pre><code class="language-jsx">export default class Event extends Component {\n  constructor(props) {\n    super(props);\n    this.myName = &#39;\u5566\u5566\u5566&#39;;\n  }\n\n  clickEvent(e) {\n    console.log(this.myName); // \u8fd9\u65f6\u4f1a\u8f93\u51faundefined\n  }\n\n  render() {\n    return &lt;button onClick={this.clickEvent}&gt;\u70b9\u51fb1&lt;/button&gt;;\n  }\n}</code></pre> <h4 id="\u65b9\u6cd5-1-bind">\u65b9\u6cd5 1 bind</h4> <pre><code class="language-jsx">export default class Event extends Component {\n  constructor(props) {\n    super(props);\n    this.myName = &#39;\u5566\u5566\u5566&#39;;\n\n    // \u65b9\u6cd51 \u4f7f\u7528bind\u7ed1\u5b9a\n    // \u6216\u8005\u53ef\u4ee5\u76f4\u63a5\u5728render\u91cc\u9762\u7ed1\u5b9a\n    this.clickEvent = this.clickEvent.bind(this);\n  }\n\n  clickEvent(e) {\n    console.log(this.myName);\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;button onClick={this.clickEvent}&gt;\u70b9\u51fb1&lt;/button&gt;\n        &lt;button onClick={this.clickEvent.bind(this)}&gt;\u70b9\u51fb1&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}</code></pre> <h4 id="\u65b9\u6cd5-2-\u5c5e\u6027\u521d\u59cb\u5316\u5668">\u65b9\u6cd5 2 \u5c5e\u6027\u521d\u59cb\u5316\u5668</h4> <pre><code class="language-jsx">export default class Event extends Component {\n  constructor(props) {\n    super(props);\n    this.myName = &#39;\u5566\u5566\u5566&#39;;\n  }\n\n  // \u65b9\u6cd52\n  // \u5c5e\u6027\u521d\u59cb\u5316\u5668\u8bed\u6cd5\n  clickEvent = () =&gt; {\n    console.log(this.myName);\n  };\n\n  render() {\n    return &lt;button onClick={this.clickEvent2}&gt;\u70b9\u51fb2&lt;/button&gt;;\n  }\n}</code></pre> <h4 id="\u65b9\u6cd5-3-\u7bad\u5934\u51fd\u6570\u4e0d\u63a8\u8350">\u65b9\u6cd5 3 \u7bad\u5934\u51fd\u6570(\u4e0d\u63a8\u8350)</h4> <pre><code class="language-jsx">export default class Event extends Component {\n  constructor(props) {\n    super(props);\n    this.myName = &#39;\u5566\u5566\u5566&#39;;\n  }\n\n  clickEvent(e) {\n    console.log(this.myName);\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        {/*\u65b9\u6cd53*/}\n        {/*\u4f7f\u7528\u7bad\u5934\u51fd\u6570*/}\n        &lt;button onClick={e =&gt; this.clickEvent(e)}&gt;\u70b9\u51fb3&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}</code></pre> <h3 id="\u6761\u4ef6\u6e32\u67d3">\u6761\u4ef6\u6e32\u67d3</h3> <ul> <li>\u6761\u4ef6\u53d8\u91cf</li> <li>\u4e0e\u8fd0\u7b97\u7b26</li> <li>\u4e09\u76ee\u8fd0\u7b97\u7b26</li> </ul> <pre><code class="language-jsx">&lt;h4&gt;\u4e0e\u8fd0\u7b97\u7b26&lt;/h4&gt;\n&lt;div&gt;\n    &lt;span&gt;{this.num}&lt;/span&gt;\n    {this.num &lt; 5 &amp;&amp; (\n        &lt;span&gt;\u5c0f\u4e8e5&lt;/span&gt;\n    )}\n    {this.num &gt; 5 &amp;&amp; (\n        &lt;span&gt;\u5927\u4e8e5&lt;/span&gt;\n    )}\n&lt;/div&gt;\n\n&lt;h4&gt;\u4e09\u76ee\u8fd0\u7b97\u7b26&lt;/h4&gt;\n&lt;div&gt;\n    &lt;span&gt;{this.num}&lt;/span&gt;\n    {this.num &lt; 5 ? (\n        &lt;span&gt;\u5c0f\u4e8e5&lt;/span&gt;\n    ) : (\n        &lt;span&gt;\u5927\u4e8e5&lt;/span&gt;\n    )}\n&lt;/div&gt;</code></pre> <h3 id="\u5217\u8868\u548c-key">\u5217\u8868\u548c key</h3> <p>\u5217\u8868\u6e32\u67d3\u65f6\u9700\u8981\u4f20 key</p> <p>Keys \u53ef\u4ee5\u5728 DOM \u4e2d\u7684\u67d0\u4e9b\u5143\u7d20\u88ab\u589e\u52a0\u6216\u5220\u9664\u7684\u65f6\u5019\u5e2e\u52a9 React \u8bc6\u522b\u54ea\u4e9b\u5143\u7d20\u53d1\u751f\u4e86\u53d8\u5316\u3002\u56e0\u6b64\u4f60\u5e94\u5f53\u7ed9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8d4b\u4e88\u4e00\u4e2a\u786e\u5b9a\u7684\u6807\u8bc6</p> <pre><code class="language-jsx">render() {\n    this.arr = [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;];\n\n    return (\n        &lt;div&gt;\n            {this.arr.map((item, index) =&gt; (\n                &lt;div key={index}&gt;{item}&lt;/div&gt;\n            ))}\n        &lt;/div&gt;\n    )\n}</code></pre> <h3 id="\u8868\u5355">\u8868\u5355</h3> <pre><code class="language-jsx">export default class Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: &#39;&#39;\n    };\n  }\n\n  onUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;input type=&quot;text&quot; value={this.state.username} onChange={this.onUsername.bind(this)} /&gt;\n        &lt;div&gt;{this.state.username}&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}</code></pre> <h3 id="\u72b6\u6001\u63d0\u5347">\u72b6\u6001\u63d0\u5347</h3> <p>\u4f7f\u7528 react \u7ecf\u5e38\u4f1a\u9047\u5230\u51e0\u4e2a\u7ec4\u4ef6\u9700\u8981\u5171\u7528\u72b6\u6001\u6570\u636e\u7684\u60c5\u51b5\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6700\u597d\u5c06\u8fd9\u90e8\u5206\u5171\u4eab\u7684\u72b6\u6001\u63d0\u5347\u81f3\u4ed6\u4eec\u6700\u8fd1\u7684\u7236\u7ec4\u4ef6\u5f53\u4e2d\u8fdb\u884c\u7ba1\u7406</p> <h2 id="redux">redux</h2> <h3 id="\u6982\u8ff0">\u6982\u8ff0</h3> <p><code>store</code> \u7ba1\u7406\u6240\u6709\u72b6\u6001\uff0c\u5728\u91cc\u9762\u8bb0\u5f55 <code>state</code>\uff0c \u9700\u8981\u6539\u53d8\u7684\u65f6\u5019\u544a\u8bc9 <code>dispatch</code> \u8981\u5e72\u4ec0\u4e48 <code>action</code>\uff0c \u5904\u7406\u53d8\u5316\u7684\u90e8\u5206 <code>reducer</code> \u62ff\u5230 <code>state</code> \u548c <code>action</code>\uff0c\u751f\u6210\u65b0\u7684 <code>state</code></p> <ul> <li><code>store</code> \u96c6\u4e2d\u7ba1\u7406\u72b6\u6001\u7684\u5730\u65b9</li> <li><code>state</code> \u72b6\u6001</li> <li><code>dispatch</code> \u8c03\u7528 action \u7684\u65b9\u6cd5</li> <li><code>action</code> \u83b7\u53d6\u6570\u636e\u7684\u65b9\u6cd5</li> <li><code>reducer</code> \u6539\u53d8\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u7ba1\u7406 action \u548c state</li> </ul> <h3 id="\u8fc7\u7a0b">\u8fc7\u7a0b</h3> <ul> <li>\u9996\u5148\u901a\u8fc7 reducer \u65b0\u5efa store\uff0c\u968f\u65f6\u901a\u8fc7 store.getState \u83b7\u53d6\u72b6\u6001</li> <li>\u9700\u8981\u72b6\u6001\u53d8\u66f4\uff0cstore.dispatch(action) \u6765\u4fee\u6539\u72b6\u6001</li> <li>reducer \u51fd\u6570\u63a5\u6536 state \u548c action\uff0c\u8fd4\u56de\u65b0\u7684 state\uff0c\u53ef\u4ee5\u7528 store.subscribe \u6765\u76d1\u542c\u6bcf\u6b21\u4fee\u6539</li> </ul> <h3 id="react-\u4f7f\u7528-redux">react \u4f7f\u7528 redux</h3> <ul> <li>\u628a store.dispatch \u65b9\u6cd5\u4f20\u9012\u7ed9\u7ec4\u5efa\uff0c\u5185\u90e8\u53ef\u4ee5\u4fee\u6539\u72b6\u6001</li> <li>subscribe \u8ba2\u9605 render \u51fd\u6570\uff0c\u6bcf\u6b21\u4fee\u6539\u90fd\u91cd\u65b0\u6e32\u67d3</li> <li>redux \u76f8\u5173\u5185\u5bb9\u79fb\u5230\u5355\u72ec\u5730\u65b9\u7ba1\u7406</li> </ul> <h2 id="react-redux">react-redux</h2> <ul> <li>react-redux \u63d0\u4f9b\u4e86 Provider \u548c connect \u4e24\u4e2a\u63a5\u53e3\u6765\u8fde\u63a5</li> <li>\u4e0d\u9700\u8981 subscribe\uff0creact-redux \u4f1a\u81ea\u52a8\u76d1\u542c state \u53d8\u5316\u6765\u91cd\u65b0\u6e32\u67d3 dom</li> </ul> <h3 id="provider">Provider</h3> <p>Provider \u5c31\u662f\u628a\u6211\u4eec\u7528 rudux \u521b\u5efa\u7684 store \u4f20\u9012\u5230\u5185\u90e8\u7684\u5176\u4ed6\u7ec4\u4ef6\u3002\u8ba9\u5185\u90e8\u7ec4\u4ef6\u53ef\u4ee5\u4eab\u6709\u8fd9\u4e2a store \u5e76\u63d0\u4f9b\u5bf9 state \u7684\u66f4\u65b0</p> <pre><code class="language-jsx">&lt;Provider store={store}&gt;\n  &lt;Router ref=&quot;router&quot; history={hashHistory}&gt;\n    &lt;Route path=&quot;/&quot; component={Index}&gt;\n      &lt;IndexRoute component={MainPage}&gt;&lt;/IndexRoute&gt;\n    &lt;/Route&gt;\n  &lt;/Router&gt;\n&lt;/Provider&gt;</code></pre> <h3 id="connect">connect</h3> <pre><code class="language-jsx">connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])(components);</code></pre> <h4 id="mapstatetoprops">mapStateToProps</h4> <ul> <li>\u5982\u679c\u5b9a\u4e49\u8be5\u53c2\u6570\uff0c\u7ec4\u4ef6\u5c06\u4f1a\u76d1\u542c Redux store \u7684\u53d8\u5316</li> <li>\u4efb\u4f55\u65f6\u5019\uff0c\u53ea\u8981 Redux store \u53d1\u751f\u6539\u53d8\uff0cmapStateToProps \u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528</li> <li>\u8be5\u56de\u8c03\u51fd\u6570\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u7eaf\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u4f1a\u4e0e\u7ec4\u4ef6\u7684 props \u5408\u5e76</li> <li>\u5982\u679c\u4f60\u7701\u7565\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u4f60\u7684\u7ec4\u4ef6\u5c06\u4e0d\u4f1a\u76d1\u542c Redux store</li> <li>\u5982\u679c\u6307\u5b9a\u4e86\u8be5\u56de\u8c03\u51fd\u6570\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 ownProps\uff0c\u5219\u8be5\u53c2\u6570\u7684\u503c\u4e3a\u4f20\u9012\u5230\u7ec4\u4ef6\u7684 props\uff0c\u800c\u4e14\u53ea\u8981\u7ec4\u4ef6\u63a5\u6536\u5230\u65b0\u7684 props\uff0cmapStateToProps \u4e5f\u4f1a\u88ab\u8c03\u7528</li> </ul> <h4 id="mapdispatchtoprops">mapDispatchToProps</h4> <ul> <li>\u5982\u679c\u4f20\u9012\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u6bcf\u4e2a\u5b9a\u4e49\u5728\u8be5\u5bf9\u8c61\u7684\u51fd\u6570\u90fd\u5c06\u88ab\u5f53\u4f5c Redux action creator\uff0c\u5bf9\u8c61\u6240\u5b9a\u4e49\u7684\u65b9\u6cd5\u540d\u5c06\u4f5c\u4e3a\u5c5e\u6027\u540d\uff1b\u6bcf\u4e2a\u65b9\u6cd5\u5c06\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u51fd\u6570\u4e2d dispatch \u65b9\u6cd5\u4f1a\u5c06 action creator \u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\u6267\u884c\u3002\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u88ab\u5408\u5e76\u5230\u7ec4\u4ef6\u7684 props \u4e2d</li> <li>\u5982\u679c\u4f20\u9012\u7684\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u63a5\u6536\u4e00\u4e2a dispatch \u51fd\u6570\uff0c\u7136\u540e\u7531\u4f60\u6765\u51b3\u5b9a\u5982\u4f55\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u901a\u8fc7 dispatch \u51fd\u6570\u4e0e action creator \u4ee5\u67d0\u79cd\u65b9\u5f0f\u7ed1\u5b9a\u5728\u4e00\u8d77</li> <li>\u5982\u679c\u4f60\u7701\u7565\u8fd9\u4e2a mapDispatchToProps \u53c2\u6570\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cdispatch \u4f1a\u6ce8\u5165\u5230\u4f60\u7684\u7ec4\u4ef6 props \u4e2d</li> </ul> ';t.exports=n}}]);