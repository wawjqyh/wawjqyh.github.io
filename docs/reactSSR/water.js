(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/reactSSR/water"],{"x+W/":function(t,e){var r='<h1 id="\u6ce8\u6c34\u548c\u8131\u6c34">\u6ce8\u6c34\u548c\u8131\u6c34</h1> <p>demo \u5730\u5740 <a href="https://github.com/wawjqyh/demo-react-ssr/tree/master/7_water">https://github.com/wawjqyh/demo-react-ssr/tree/master/7_water</a></p> <p>\u5230\u8fd9\u91cc\u670d\u52a1\u7aef\u6e32\u67d3\u4ee5\u53ca\u57fa\u672c\u5b8c\u6210\uff0c\u4f46\u662f\u4ed4\u7ec6\u89c2\u5bdf\u9875\u9762\u4f1a\u53d1\u73b0\uff0c\u867d\u7136\u6570\u636e\u5df2\u7ecf\u6302\u8f7d\u5230\u4e86\u670d\u52a1\u7aef\u8fd4\u56de\u7684 HTML \u4ee3\u7801\u4e2d\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u7684\u521d\u59cb\u72b6\u6001\u662f\u6ca1\u6709\u6570\u636e\u7684\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a\u5f53\u670d\u52a1\u7aef\u62ff\u5230 store \u5e76\u83b7\u53d6\u6570\u636e\u540e\uff0c\u5ba2\u6237\u7aef\u7684 js \u4ee3\u7801\u53c8\u6267\u884c\u4e00\u904d\uff0c\u5728\u5ba2\u6237\u7aef\u4ee3\u7801\u6267\u884c\u7684\u65f6\u5019\u53c8\u521b\u5efa\u4e86\u4e00\u4e2a\u7a7a\u7684 store\uff0c\u4e24\u4e2a store \u7684\u6570\u636e\u4e0d\u80fd\u540c\u6b65\u3002</p> <p>\u540c\u6b65\u4e24\u4e2a store \u7684\u6570\u636e\u7684\u64cd\u4f5c\u5c31\u53eb\u6ce8\u6c34\u548c\u8131\u6c34\u3002</p> <h2 id="\u6ce8\u6c34">\u6ce8\u6c34</h2> <p>\u628a\u670d\u52a1\u7aef\u7684 store \u6570\u636e\u6ce8\u5165\u5230 window \u5168\u5c40\u73af\u5883\u4e2d\uff0c\u5c31\u662f\u6ce8\u6c34\u64cd\u4f5c</p> <pre><code class="language-javascript">&lt;script&gt;\n  window.context = {\n    state: ${JSON.stringify(store.getState())}\n  }\n&lt;/script&gt;</code></pre> <h2 id="\u8131\u6c34">\u8131\u6c34</h2> <p>\u8131\u6c34\u5c31\u662f\u628a window \u4e0a\u7ed1\u5b9a\u7684\u6570\u636e\u7ed9\u5230\u5ba2\u6237\u7aef\u7684 store\uff0c\u53ef\u4ee5\u5728\u521b\u5efa redux \u5b9e\u4f8b\u7684\u65f6\u5019\u8fdb\u884c\u3002</p> <pre><code class="language-javascript">// \u8fd9\u4e2a\u662f\u8131\u6c34\u7684\u64cd\u4f5c\uff0c\u5c06\u670d\u52a1\u7aef\u7684 state \u4f5c\u4e3a initialState \u521d\u59cb\u5316 store\nexport function getClientStore() {\n  const defaultState = window.context ? window.context : {};\n  return createStore(combineReducers({ user }), defaultState);\n}</code></pre> ';t.exports=r}}]);