(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/webpack/plugin"],{YRUD:function(p,o){var e='<h1 id="plugin">plugin</h1> <p><a href="https://webpack.docschina.org/api/plugins/">\u5b98\u65b9\u6587\u6863</a></p> <p><a href="https://webpack.docschina.org/api/compiler-hooks/">compiler hooks</a></p> <p><a href="https://webpack.docschina.org/api/compilation-hooks/">compilation hooks</a></p> <h2 id="1-plugin-\u7684\u5199\u6cd5">1 plugin \u7684\u5199\u6cd5</h2> <p>\u5173\u4e8e\u63d2\u4ef6\uff1a</p> <ul> <li>\u63d2\u4ef6\u662f\u4e00\u4e2a\u7c7b</li> <li>\u8c03\u7528\u63d2\u4ef6\u65f6\u4f1a\u6267\u884c\u4e00\u4e2a apply \u65b9\u6cd5\uff0c\u63d2\u4ef6\u9700\u8981\u6267\u884c\u7684\u903b\u8f91\u653e\u5728 apply \u65b9\u6cd5\u91cc\u9762</li> </ul> <p>\u5173\u4e8e compiler :</p> <ul> <li>compiler \u53ef\u4ee5\u7406\u89e3\u4e3a webpack \u7684\u5b9e\u4f8b</li> <li>compiler \u5b58\u653e\u4e86\u6240\u6709\u7684 webpack \u914d\u7f6e\uff0c\u5305\u62ec\u6253\u5305\u7684\u6240\u6709\u5185\u5bb9</li> <li>compilation \u5b58\u653e\u4e86\u672c\u6b21\u6253\u5305\u7684\u76f8\u5173\u5185\u5bb9</li> </ul> <p>hooks :</p> <ul> <li>hooks \u5c31\u662f webpack \u5728\u6253\u5305\u7684\u5404\u4e2a\u751f\u547d\u5468\u671f\u6267\u884c\u7684\u94a9\u5b50</li> </ul> <p>\u4e0b\u9762\u63d2\u4ef6\u7684\u529f\u80fd\u662f\uff1a\u6253\u5305\u540e\u751f\u6210\u81ea\u52a8\u4e00\u4e2a copyright \u6587\u4ef6</p> <pre><code class="language-javascript">class CopyrightWebpackPlugin {\n  constructor(options) {\n    // options \u63d2\u4ef6\u7684\u4e00\u4e9b\u53c2\u6570\n    console.log(options);\n  }\n\n  apply(compiler) {\n    // emit: \u8f93\u51fa asset \u5230 output \u76ee\u5f55\u4e4b\u524d\u6267\u884c\n    // tapAsync \u8868\u793a\u662f\u4e00\u4e2a\u5f02\u6b65\u65b9\u6cd5\uff0c\u6709\u4e00\u4e2a\u56de\u8c03\uff0c\u9700\u8981\u624b\u52a8\u8c03 cb\n    compiler.hooks.emit.tapAsync(&#39;CopyrightWebpackPlugin&#39;, (compilation, cb) =&gt; {\n      compilation.assets[&#39;copyright.txt&#39;] = {\n        source() {\n          return &#39;this is a copyright&#39;;\n        },\n        size() {\n          return 19;\n        }\n      };\n\n      cb();\n    });\n  }\n}</code></pre> <h2 id="2-\u8c03\u8bd5\u5de5\u5177">2 \u8c03\u8bd5\u5de5\u5177</h2> <p>\u5f00\u53d1\u63d2\u4ef6\u7684\u65f6\u5019\u7ecf\u5e38\u9700\u8981\u8c03\u8bd5\u4ee3\u7801\uff0c\u8c03\u8bd5\u4ee3\u7801\u9700\u8981\u4f7f\u7528\u5230 node \u7684\u8c03\u8bd5\u5de5\u5177</p> <p>\u6267\u884c webpack \u65f6\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>node --inspect --inspect-brk node_modules/webpack/bin/webpack.js</code></pre><p><code>node node_modules/webpack/bin/webpack.js</code> \u8fd9\u4e2a\u662f\u663e\u5f0f\u7684\u7528 node \u8fd0\u884c webpack\uff0c\u548c\u76f4\u63a5\u4f7f\u7528 <code>webpack</code> \u6548\u679c\u4e00\u6837</p> <p>\u7528 node \u6267\u884c\u53ef\u4ee5\u589e\u52a0\u4e00\u4e9b\u53c2\u6570</p> <ul> <li><code>--inspect</code> \u8868\u793a\u5f00\u542f node \u8c03\u8bd5\u5de5\u5177</li> <li><code>--inspect-brk</code> \u8868\u793a\u8fd0\u884c\u65f6\u5728\u7b2c\u4e00\u884c\u6253\u65ad\u70b9</li> </ul> <p>\u5f00\u542f node \u8c03\u8bd5\u5de5\u5177\u540e\uff0c\u6253\u5f00 chrome \u53ef\u4ee5\u5bf9 node \u8fdb\u884c\u8c03\u8bd5\uff0c\u6d4f\u89c8\u5668\u4f1a\u589e\u52a0\u4e00\u4e2a node \u56fe\u6807</p> ';p.exports=e}}]);