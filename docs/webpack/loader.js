(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/webpack/loader"],{R8KU:function(e,n){var o='<h1 id="loader">loader</h1> <p><a href="https://webpack.docschina.org/api/loaders/">\u5b98\u65b9\u6587\u6863</a></p> <h2 id="1-\u57fa\u672c\u4f7f\u7528">1 \u57fa\u672c\u4f7f\u7528</h2> <p>\u5199\u4e00\u4e2a loader \u5c06 &#39;hello world&#39; \u66ff\u6362\u6210 &#39;hello \u5566\u5566\u5566&#39;</p> <pre><code class="language-javascript">// loader \u4ee3\u7801\n// source \u5c31\u662f webpack \u8bfb\u5230\u7684\u6e90\u6587\u4ef6\nmodule.exports = function (source) {\n  let _source = source.replace(&#39;world&#39;, &#39;\u5566\u5566\u5566&#39;);\n  return _source;\n};</code></pre> <pre><code class="language-javascript">// webpack \u4ee3\u7801\nmodule.exports = {\n  mode: &#39;none&#39;,\n\n  entry: {\n    app: &#39;./src/index.js&#39;\n  },\n\n  output: {\n    path: path.resolve(__dirname, &#39;dist&#39;),\n    filename: &#39;[name].js&#39;\n  },\n\n  module: {\n    rules: [\n      {\n        test: /\\.js/,\n        use: [path.resolve(__dirname, &#39;./loaders/replaceLoader.js&#39;)] // \u4f7f\u7528 loader\n      }\n    ]\n  }\n};</code></pre> <h2 id="2-\u4f7f\u7528\u914d\u7f6e">2 \u4f7f\u7528\u914d\u7f6e</h2> <p>\u5728 webpack \u914d\u7f6e\u4e2d\u589e\u52a0 options \u914d\u7f6e</p> <pre><code class="language-javascript">// webpack \u914d\u7f6e\nmodule.exports = {\n  // ...\n\n  module: {\n    rules: [\n      {\n        test: /\\.js/,\n        use: [\n          {\n            loader: path.resolve(__dirname, &#39;./loaders/replaceLoader.js&#39;),\n            options: {\n              name: &#39;\u54c8\u54c8\u54c8&#39; // \u589e\u52a0\u914d\u7f6e\u9879\n            }\n          }\n        ]\n      }\n    ]\n  }\n};</code></pre> <pre><code class="language-javascript">// loader\nmodule.exports = function (source) {\n  // \u901a\u8fc7 this.query \u63a5\u6536 options \u53c2\u6570\n  let _source = source.replace(&#39;world&#39;, this.query.name);\n  return _source;\n};</code></pre> <h2 id="3-\u5f02\u6b65\u8fd4\u56de">3 \u5f02\u6b65\u8fd4\u56de</h2> <p>\u5728 loader \u4e2d\u6709\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f7f\u7528 <code>this.async</code> \u5f02\u6b65\u8fd4\u56de</p> <pre><code class="language-javascript">module.exports = function (source) {\n  let callback = this.async();\n\n  setTimeout(() =&gt; {\n    let _source = source.replace(&#39;world&#39;, this.query.name);\n    callback(_source);\n  }, 1000);\n};</code></pre> ';e.exports=o}}]);