(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/designPattern/singleton"],{bSZg:function(n,e){var t='<h1 id="\u5355\u4f8b\u6a21\u5f0f">\u5355\u4f8b\u6a21\u5f0f</h1> <h2 id="1-\u6982\u5ff5">1 \u6982\u5ff5</h2> <p><strong>\u5355\u4f8b\u6a21\u5f0f\u7684\u7279\u6027\uff1a</strong></p> <ul> <li>\u5bf9\u8c61\u5728\u7cfb\u7edf\u4e2d\u662f\u552f\u4e00\u7684 (\u4f8b\u5982\uff1a\u8d2d\u7269\u8f66\uff0c\u8d2d\u7269\u8f66\u5728\u7cfb\u7edf\u4e2d\u662f\u552f\u4e00\u7684\uff0c\u4e0d\u7ba1\u5728\u54ea\u4e2a\u9875\u9762)</li> <li>\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b</li> </ul> <p><strong>\u6ce8\u610f\u70b9</strong></p> <ul> <li>\u5355\u4f8b\u6a21\u5f0f\u9700\u8981\u7528\u5230 java \u7684\u7279\u6027(private)</li> <li>ES6 \u4e2d\u6ca1\u6709(typescript \u4e2d\u6709)</li> </ul> <blockquote> <p>\u5355\u4f8b\u6a21\u5f0f\u9700\u8981\u73b0\u5728\u7c7b\u5728\u5916\u90e8\u4e0d\u80fd <code>new</code>\uff0c\u4e5f\u5c31\u662f\u5916\u90e8\u4e0d\u80fd\u751f\u6210\u5b9e\u4f8b\uff0c\u53ea\u80fd\u5728\u5185\u90e8\u751f\u6210</p> </blockquote> <h2 id="2-\u5b9e\u4f8b">2 \u5b9e\u4f8b</h2> <h3 id="21-typescript-\u5199\u6cd5">2.1 typescript \u5199\u6cd5</h3> <pre><code class="language-javascript">class Singleton {\n  private static singleton: Singleton;\n\n  //\u9650\u5236\u4ea7\u751f\u591a\u4e2a\u5bf9\u8c61\uff0c\u5373\u5916\u90e8\u4e0d\u80fd new\n  private constructor () {\n\n  }\n\n  // \u53ea\u80fd\u8c03\u7528\u5185\u90e8\u7684 getInstance \u65b9\u6cd5\u83b7\u53d6\u5b9e\u4f8b\n  public static getInstance (): Singleton {\n    // \u53ea\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\n    if (Singleton.singleton === null) {\n      Singleton.singleton = new Singleton();\n    }\n    return Singleton.singleton;\n  }\n}\n\nlet obj1 = new Singleton(); // \u62a5\u9519\uff0c\u5916\u90e8\u4e0d\u80fdnew\nlet obj2 = Singleton.getInstance();</code></pre> <h3 id="22-js-\u5199\u6cd5">2.2 js \u5199\u6cd5</h3> <p>js \u4e2d\u65e0\u6cd5\u901a\u8fc7\u4ee3\u7801\u7ea6\u675f\u5916\u90e8\u4f7f\u7528 new\uff0c\u53ea\u80fd\u7ea6\u5b9a\u4e0d\u4f7f\u7528 new</p> <pre><code class="language-javascript">class Singleton {\n  login() {\n    console.log(&#39;login...&#39;);\n  }\n}\n\n// \u7acb\u5373\u6267\u884c\u7684\u533f\u540d\u51fd\u6570\uff0c\u5f62\u6210\u95ed\u5305\uff0c\u8ba9 instance \u4e0d\u4f1a\u88ab\u56de\u6536\nSingleton.getInstance = (function() {\n  let instance;\n\n  return function() {\n    if (!instance) {\n      instance = new Singleton();\n    }\n    return instance;\n  };\n})();\n\nlet obj1 = Singleton.getInstance();</code></pre> <h2 id="3-\u5e94\u7528\u573a\u666f">3 \u5e94\u7528\u573a\u666f</h2> <ul> <li>jQuery\uff0cjQuery \u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b</li> <li>\u767b\u5f55\u6ce8\u518c\u6846/\u8d2d\u7269\u8f66</li> <li>vuex \u548c redux \u4e2d\u7684 store</li> </ul> ';n.exports=t}}]);