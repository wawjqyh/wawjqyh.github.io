(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["docs/js/objectProp"],{"wN+1":function(e,o){var c='<h1 id="\u5bf9\u8c61\u5c5e\u6027\u914d\u7f6e">\u5bf9\u8c61\u5c5e\u6027\u914d\u7f6e</h1> <h2 id="1-\u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26">1 \u5c5e\u6027\u6807\u5fd7\u548c\u5c5e\u6027\u63cf\u8ff0\u7b26</h2> <h3 id="11-\u5c5e\u6027\u6807\u5fd7">1.1 \u5c5e\u6027\u6807\u5fd7</h3> <p>\u5bf9\u8c61\u5c5e\u6027<code>\uff08properties\uff09</code>\uff0c\u9664 <code>value</code> \u5916\uff0c\u8fd8\u6709\u4e09\u4e2a\u7279\u6b8a\u7684\u7279\u6027<code>\uff08attributes\uff09</code>\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u201c\u6807\u5fd7\u201d\uff1a</p> <ul> <li><code>writable</code> \u2014 \u5982\u679c\u4e3a true\uff0c\u5219\u503c\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u5426\u5219\u5b83\u662f\u53ea\u53ef\u8bfb\u7684</li> <li><code>enumerable</code> \u2014 \u5982\u679c\u4e3a true\uff0c\u5219\u4f1a\u88ab\u5728\u5faa\u73af\u4e2d\u5217\u51fa\uff0c\u5426\u5219\u4e0d\u4f1a\u88ab\u5217\u51fa</li> <li><code>configurable</code> \u2014 \u5982\u679c\u4e3a true\uff0c\u5219\u6b64\u7279\u6027\u53ef\u4ee5\u88ab\u5220\u9664\uff0c\u8fd9\u4e9b\u5c5e\u6027\u4e5f\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u5426\u5219\u4e0d\u53ef\u4ee5</li> </ul> <p><strong>writable:</strong></p> <p>\u4e0d\u80fd\u88ab\u91cd\u65b0\u8d4b\u503c</p> <p><strong>enumerable:</strong></p> <ul> <li>\u4e0d\u4f1a\u51fa\u73b0\u5728 <code>for..in</code> \u5faa\u73af\u4e2d</li> <li>\u4f1a\u88ab <code>Object.keys</code> \u6392\u9664</li> </ul> <p><strong>configurable:</strong></p> <ul> <li>\u5355\u5411\u7684\uff0c\u65e0\u6cd5\u4f7f\u7528 <code>defineProperty</code> \u628a\u5b83\u6539\u56de\u53bb</li> <li>\u4e0d\u53ef\u914d\u7f6e\u7684\u5c5e\u6027\u4e0d\u80fd\u88ab\u5220\u9664</li> <li>\u4e0d\u80fd\u4fee\u6539 <code>configurable</code> \u6807\u5fd7</li> <li>\u4e0d\u80fd\u4fee\u6539 <code>enumerable</code> \u6807\u5fd7</li> <li>\u4e0d\u80fd\u5c06 <code>writable: false</code> \u4fee\u6539\u4e3a <code>true</code>\uff08\u53cd\u8fc7\u6765\u5219\u53ef\u4ee5\uff09</li> <li>\u4e0d\u80fd\u4fee\u6539\u8bbf\u95ee\u8005\u5c5e\u6027\u7684 <code>get/set</code>\uff08\u4f46\u662f\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u5206\u914d\u5b83\u4eec\uff09</li> </ul> <blockquote> <p><code>configurable: false</code> \u7684\u7528\u9014\u662f\u9632\u6b62\u66f4\u6539\u548c\u5220\u9664\u5c5e\u6027\u6807\u5fd7\uff0c\u4f46\u662f\u5141\u8bb8\u66f4\u6539\u5bf9\u8c61\u7684\u503c</p> </blockquote> <h3 id="12-\u67e5\u770b\u5c5e\u6027\u6807\u5fd7\u4fe1\u606f">1.2 \u67e5\u770b\u5c5e\u6027\u6807\u5fd7\u4fe1\u606f</h3> <pre><code class="language-js">let descriptor = Object.getOwnPropertyDescriptor(obj, propertyName);</code></pre> <pre><code class="language-js">let user = {\n  name: &#39;John&#39;\n};\n\nlet descriptor = Object.getOwnPropertyDescriptor(user, &#39;name&#39;);\n/* \u5c5e\u6027\u63cf\u8ff0\u7b26\uff1a\n{\n  &quot;value&quot;: &quot;John&quot;,\n  &quot;writable&quot;: true,\n  &quot;enumerable&quot;: true,\n  &quot;configurable&quot;: true\n}\n*/</code></pre> <h3 id="13-\u4fee\u6539\u5c5e\u6027\u6807\u5fd7\u4fe1\u606f">1.3 \u4fee\u6539\u5c5e\u6027\u6807\u5fd7\u4fe1\u606f</h3> <pre><code class="language-js">Object.defineProperty(obj, propertyName, descriptor);</code></pre> <p>\u5982\u679c\u8be5\u5c5e\u6027\u5b58\u5728\uff0c<code>defineProperty</code> \u4f1a\u66f4\u65b0\u5176\u6807\u5fd7\u3002\u5426\u5219\uff0c\u5b83\u4f1a\u4f7f\u7528\u7ed9\u5b9a\u7684\u503c\u548c\u6807\u5fd7\u521b\u5efa\u5c5e\u6027\uff1b\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u6807\u5fd7\uff0c\u5219\u4f1a\u9ed8\u8ba4\u8bbe\u4e3a <code>false</code></p> <pre><code class="language-js">let user = {};\n\nObject.defineProperty(user, &#39;name&#39;, {\n  value: &#39;John&#39;\n});\n\nObject.defineProperty(user, &#39;name&#39;, {\n  writable: false\n});</code></pre> <h3 id="14-\u5bf9\u8c61\u5176\u4ed6\u76f8\u5173\u65b9\u6cd5">1.4 \u5bf9\u8c61\u5176\u4ed6\u76f8\u5173\u65b9\u6cd5</h3> <p>\u9650\u5236\u8bbf\u95ee<code>\u6574\u4e2a</code>\u5bf9\u8c61</p> <ul> <li><p><code>Object.preventExtensions(obj)</code> \u7981\u6b62\u5411\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027</p> </li> <li><p><code>Object.seal(obj)</code> \u7981\u6b62\u6dfb\u52a0/\u5220\u9664\u5c5e\u6027\u3002\u4e3a\u6240\u6709\u73b0\u6709\u7684\u5c5e\u6027\u8bbe\u7f6e <code>configurable: false</code></p> </li> <li><p><code>Object.freeze(obj)</code> \u7981\u6b62\u6dfb\u52a0/\u5220\u9664/\u66f4\u6539\u5c5e\u6027\u3002\u4e3a\u6240\u6709\u73b0\u6709\u7684\u5c5e\u6027\u8bbe\u7f6e <code>configurable: false</code>, <code>writable: false</code></p> </li> <li><p><code>Object.isExtensible(obj)</code> \u5982\u679c\u6dfb\u52a0\u5c5e\u6027\u88ab\u7981\u6b62\uff0c\u5219\u8fd4\u56de <code>false</code>\uff0c\u5426\u5219\u8fd4\u56de <code>true</code></p> </li> <li><p><code>Object.isSealed(obj)</code> \u5982\u679c\u6dfb\u52a0/\u5220\u9664\u5c5e\u6027\u88ab\u7981\u6b62\uff0c\u5e76\u4e14\u6240\u6709\u73b0\u6709\u7684\u5c5e\u6027\u90fd\u5177\u6709 <code>configurable: false</code> \u5219\u8fd4\u56de <code>true</code></p> </li> <li><p><code>Object.isFrozen(obj)</code> \u5982\u679c\u6dfb\u52a0/\u5220\u9664/\u66f4\u6539\u5c5e\u6027\u88ab\u7981\u6b62\uff0c\u5e76\u4e14\u6240\u6709\u5f53\u524d\u5c5e\u6027\u90fd\u662f <code>configurable: false</code>, <code>writable: false</code>\uff0c\u5219\u8fd4\u56de <code>true</code></p> </li> </ul> <h2 id="2-getter-\u548c-setter">2 getter \u548c setter</h2> <h3 id="21-\u6982\u5ff5">2.1 \u6982\u5ff5</h3> <p>\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u5c5e\u6027:</p> <ul> <li>\u7b2c\u4e00\u79cd\u662f <code>\u6570\u636e\u5c5e\u6027</code></li> <li>\u7b2c\u4e8c\u79cd\u662f <code>\u8bbf\u95ee\u5668\u5c5e\u6027\uff08accessor properties\uff09</code>\uff0c\u5b83\u4eec\u672c\u8d28\u4e0a\u662f\u7528\u4e8e\u83b7\u53d6\u548c\u8bbe\u7f6e\u503c\u7684\u51fd\u6570\uff0c\u4f46\u4ece\u5916\u90e8\u4ee3\u7801\u6765\u770b\u5c31\u50cf\u5e38\u89c4\u5c5e\u6027</li> </ul> <pre><code class="language-js">let user = {\n  name: &#39;John&#39;,\n  surname: &#39;Smith&#39;,\n\n  get fullName() {\n    return `${this.name} ${this.surname}`;\n  }\n};</code></pre> <blockquote> <p><code>fullName</code> \u53ea\u6709\u4e00\u4e2a <code>getter</code>\u3002\u5982\u679c\u6211\u4eec\u5c1d\u8bd5\u8d4b\u503c\u64cd\u4f5c <code>user.fullName=</code>\uff0c\u5c06\u4f1a\u51fa\u73b0\u9519\u8bef</p> </blockquote> <h3 id="22-\u8bbf\u95ee\u5668\u63cf\u8ff0\u7b26">2.2 \u8bbf\u95ee\u5668\u63cf\u8ff0\u7b26</h3> <p>\u5bf9\u4e8e\u8bbf\u95ee\u5668\u5c5e\u6027\uff0c\u6ca1\u6709 <code>value</code> \u548c <code>writable</code>\uff0c\u4f46\u662f\u6709 <code>get</code> \u548c <code>set</code> \u51fd\u6570</p> <ul> <li><code>get</code> \u2014\u2014 \u4e00\u4e2a\u6ca1\u6709\u53c2\u6570\u7684\u51fd\u6570\uff0c\u5728\u8bfb\u53d6\u5c5e\u6027\u65f6\u5de5\u4f5c</li> <li><code>set</code> \u2014\u2014 \u5e26\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u5f53\u5c5e\u6027\u88ab\u8bbe\u7f6e\u65f6\u8c03\u7528</li> <li><code>enumerable</code> \u2014\u2014 \u4e0e\u6570\u636e\u5c5e\u6027\u7684\u76f8\u540c</li> <li><code>configurable</code> \u2014\u2014 \u4e0e\u6570\u636e\u5c5e\u6027\u7684\u76f8\u540c</li> </ul> <p>\u4f7f\u7528 <code>defineProperty</code> \u521b\u5efa\u4e00\u4e2a <code>fullName</code> \u8bbf\u95ee\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>get</code> \u548c <code>set</code> \u6765\u4f20\u9012\u63cf\u8ff0\u7b26:</p> <pre><code class="language-js">let user = {\n  name: &#39;John&#39;,\n  surname: &#39;Smith&#39;\n};\n\nObject.defineProperty(user, &#39;fullName&#39;, {\n  get() {\n    return `${this.name} ${this.surname}`;\n  },\n\n  set(value) {\n    [this.name, this.surname] = value.split(&#39; &#39;);\n  }\n});\n\nalert(user.fullName); // John Smith\n\nfor (let key in user) alert(key); // name, surname</code></pre> <h3 id="23-\u6784\u9020\u51fd\u6570\u4e2d">2.3 \u6784\u9020\u51fd\u6570\u4e2d</h3> <pre><code class="language-js">function User(name, birthday) {\n  this.name = name;\n  this.birthday = birthday;\n\n  // \u5e74\u9f84\u662f\u6839\u636e\u5f53\u524d\u65e5\u671f\u548c\u751f\u65e5\u8ba1\u7b97\u5f97\u51fa\u7684\n  Object.defineProperty(this, &#39;age&#39;, {\n    get() {\n      let todayYear = new Date().getFullYear();\n      return todayYear - this.birthday.getFullYear();\n    }\n  });\n}\n\nlet john = new User(&#39;John&#39;, new Date(1992, 6, 1));\n\nalert(john.birthday); // birthday \u662f\u53ef\u8bbf\u95ee\u7684\nalert(john.age); // age \u4e5f\u662f\u53ef\u8bbf\u95ee\u7684</code></pre> <h2 id="\u590d\u4e60">\u590d\u4e60</h2> <ul> <li>\u5c5e\u6027\u6807\u5fd7 (3 \u4e2a)</li> <li>\u5982\u4f55\u67e5\u770b\u5c5e\u6027\u6807\u5fd7\uff1f</li> <li>\u5982\u4f55\u4fee\u6539\u5c5e\u6027\u6807\u5fd7\uff1f</li> <li>getter \u548c setter \u600e\u4e48\u7528\uff1f(\u4e24\u79cd\u65b9\u5f0f)</li> </ul> ';e.exports=c}}]);